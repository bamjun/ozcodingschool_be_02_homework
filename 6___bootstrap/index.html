<!DOCTYPE html>
<html lang="ko">
  <head>
    <title>Admin Page</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9"
      crossorigin="anonymous"
    />
  </head>

  <body>
    <div class="container mt-3">
      <div>
        <a
          class="social-icon__link"
          target="_blank"
          href="https://github.com/bamjun/"
        >
          <ion-icon
            name="logo-github"
            style="color: rgb(207, 42, 207); font-size: 40px"
          ></ion-icon>
        </a>
      </div>
      <h1 class="mt-5 mb-3">신규 등록 상품 (2024-01-22)</h1>
      <form class="row gy-2 gx-3 align-items-center">
        <div class="col-auto">
          <select class="form-select" id="autoSizingSelect">
            <option selected disabled>성별을 선택해주세요.</option>
            <option value="1">남성</option>
            <option value="2">여성</option>
            <option value="3">공용</option>
          </select>
        </div>
        <div class="col-auto">
          <label class="visually-hidden" for="autoSizingSelect"
            >Preference</label
          >
          <select class="form-select" id="autoSizingSelect">
            <option selected disabled>카테고리를 선택해주세요.</option>
            <option value="1">상의</option>
            <option value="2">하의</option>
            <option value="3">패션잡화</option>
          </select>
        </div>

        <div class="col-auto">
          <label class="visually-hidden" for="autoSizingInput">search</label>
          <input
            type="text"
            class="form-control"
            id="autoSizingInput"
            placeholder="제품명을 입력해주세요"
          />
        </div>

        <div class="col-auto">
          <button type="submit" class="btn btn-primary">조회</button>
        </div>

        <div class="col-auto">
          <button type="submit" class="btn btn-danger">삭제</button>
        </div>
      </form>

      <div class="container mt-3">
        <table class="table table-sm">
          <thead>
            <tr>
              <th>삭제</th>
              <th>성별</th>
              <th>카테고리</th>
              <th>브랜드</th>
              <th>상품명</th>
              <th>가격</th>
            </tr>
            <!-- 열의 속성값을 나타내는 코드를 작성해주세요 (예 : 카테고리, 브랜드, 상품명, 가격) -->
          </thead>
          <tbody id="data-table" class="table-group-divider">
            <!-- 추후 크롤링한 데이터가 들어가는 자리 -->
          </tbody>
        </table>
      </div>

      <!-- 페이지 네이션 코드를 넣어주세요 -->
      <nav aria-label="...">
        <ul class="pagination justify-content-center"></ul>
      </nav>
    </div>
    <script>
      // 크롤링한 데이터를 아래와 같은 형태의 객체 배열로 가정합니다.
      // 추후 데이터베이스에 있는 데이터를 쿼리문으로 불러 올 수 있게 쿼리르 작성해 볼 수 있음
      const data = [
        {
          selec: false,
          sex: "여성",
          category: "상의",
          brand: "Supreme",
          product: "슈프림 박스로고 후드티",
          price: "390,000",
        },
        {
          selec: false,
          sex: "남성",
          category: "하의",
          brand: "DIESEL",
          product: "디젤 트랙 팬츠",
          price: "188,000",
        },
        {
          selec: false,
          sex: "여성",
          category: "신발",
          brand: "Nike",
          product: "에어포스 1",
          price: "137,000",
        },
        {
          selec: false,
          sex: "여성",
          category: "패션잡화",
          brand: "Music&Goods",
          product: "빵빵이 키링",
          price: "29,000",
        },
        {
          selec: false,
          sex: "여성",
          category: "상의",
          brand: "Supreme",
          product: "슈프림 박스로고 후드티",
          price: "390,000",
        },
        {
          selec: false,
          sex: "남성",
          category: "하의",
          brand: "DIESEL",
          product: "디젤 트랙 팬츠",
          price: "188,000",
        },
        {
          selec: false,
          sex: "여성",
          category: "신발",
          brand: "Nike",
          product: "에어포스 1",
          price: "137,000",
        },
        {
          selec: false,
          sex: "여성",
          category: "패션잡화",
          brand: "Music&Goods",
          product: "빵빵이 키링",
          price: "29,000",
        },
        {
          selec: false,
          sex: "여성",
          category: "상의",
          brand: "Supreme",
          product: "슈프림 박스로고 후드티",
          price: "390,000",
        },
        {
          selec: false,
          sex: "남성",
          category: "하의",
          brand: "DIESEL",
          product: "디젤 트랙 팬츠",
          price: "188,000",
        },
        {
          selec: false,
          sex: "여성",
          category: "신발",
          brand: "Nike",
          product: "에어포스 1",
          price: "137,000",
        },
        {
          selec: false,
          sex: "여성",
          category: "패션잡화",
          brand: "Music&Goods",
          product: "빵빵이 키링",
          price: "29,000",
        },
        {
          selec: false,
          sex: "여성",
          category: "상의",
          brand: "Supreme",
          product: "슈프림 박스로고 후드티",
          price: "390,000",
        },
        {
          selec: false,
          sex: "남성",
          category: "하의",
          brand: "DIESEL",
          product: "디젤 트랙 팬츠",
          price: "188,000",
        },
        {
          selec: false,
          sex: "여성",
          category: "신발",
          brand: "Nike",
          product: "에어포스 1",
          price: "137,000",
        },
        {
          selec: false,
          sex: "여성",
          category: "패션잡화",
          brand: "Music&Goods",
          product: "빵빵이 키링",
          price: "29,000",
        },
        {
          selec: false,
          sex: "여성",
          category: "상의",
          brand: "Supreme",
          product: "슈프림 박스로고 후드티",
          price: "390,000",
        },
        {
          selec: false,
          sex: "남성",
          category: "하의",
          brand: "DIESEL",
          product: "디젤 트랙 팬츠",
          price: "188,000",
        },
        {
          selec: false,
          sex: "여성",
          category: "신발",
          brand: "Nike",
          product: "에어포스 1",
          price: "137,000",
        },
        {
          selec: false,
          sex: "여성",
          category: "패션잡화",
          brand: "Music&Goods",
          product: "빵빵이 키링",
          price: "29,000",
        },
        {
          selec: false,
          sex: "여성",
          category: "패션잡화",
          brand: "Music&Goods",
          product: "빵빵이 키링",
          price: "29,000",
        },
        {
          selec: false,
          sex: "여성",
          category: "상의",
          brand: "Supreme",
          product: "슈프림 박스로고 후드티",
          price: "390,000",
        },
        {
          selec: false,
          sex: "남성",
          category: "하의",
          brand: "DIESEL",
          product: "디젤 트랙 팬츠",
          price: "188,000",
        },
        {
          selec: false,
          sex: "여성",
          category: "신발",
          brand: "Nike",
          product: "에어포스 1",
          price: "137,000",
        },
        {
          selec: false,
          sex: "여성",
          category: "상의",
          brand: "Supreme",
          product: "슈프림 박스로고 후드티",
          price: "390,000",
        },
        {
          selec: false,
          sex: "남성",
          category: "하의",
          brand: "DIESEL",
          product: "디젤 트랙 팬츠",
          price: "188,000",
        },
        {
          selec: false,
          sex: "여성",
          category: "신발",
          brand: "Nike",
          product: "에어포스 1",
          price: "137,000",
        },
        {
          selec: false,
          sex: "여성",
          category: "패션잡화",
          brand: "Music&Goods",
          product: "빵빵이 키링",
          price: "29,000",
        },
      ];

      const dataTable = document.getElementById("data-table");

      data.forEach((item) => {
        const inputDelete = document.createElement("input");
        inputDelete.classList.add("form-check-input");
        inputDelete.type = "checkbox";

        const row = dataTable.insertRow();
        row.insertCell(0).appendChild(inputDelete);
        row.insertCell(1).innerHTML = item.sex;
        row.insertCell(2).innerHTML = item.category;
        row.insertCell(3).innerHTML = item.brand;
        row.insertCell(4).innerHTML = item.product;
        row.insertCell(5).innerHTML = item.price;
      });

      // 전역 변수 설정
      const itemsPerPage = 5;
      let currentPage = 1;

      // 페이지네이션을 위한 함수 정의
      function paginateData(data) {
        return data.slice(
          (currentPage - 1) * itemsPerPage,
          currentPage * itemsPerPage
        );
      }

      function displayData() {
        const dataTable = document.getElementById("data-table");
        dataTable.innerHTML = ""; // 테이블 초기화

        paginateData(data).forEach((item) => {
          const inputDelete = document.createElement("input");
          inputDelete.classList.add("form-check-input");
          inputDelete.type = "checkbox";

          const row = dataTable.insertRow();
          row.insertCell(0).appendChild(inputDelete);
          row.insertCell(1).innerHTML = item.sex;
          row.insertCell(2).innerHTML = item.category;
          row.insertCell(3).innerHTML = item.brand;
          row.insertCell(4).innerHTML = item.product;
          row.insertCell(5).innerHTML = item.price;
        });
      }

      function setupPagination(data) {
        const pagination = document.querySelector(".pagination");
        pagination.innerHTML = ""; // 페이지네이션 초기화

        // 이전페이지 버튼 넣기
        const previous = document.createElement("li");
        previous.classList.add("page-item");
        if (currentPage == 1) {
          previous.classList.add("disabled");
        }
        const previouspageLink = document.createElement("a");
        previouspageLink.classList.add("page-link");
        previouspageLink.href = "#";
        previouspageLink.innerText = "Previous";
        previous.appendChild(previouspageLink);
        pagination.appendChild(previous);

        const totalPages = Math.ceil(data.length / itemsPerPage);

        for (let i = 1; i <= totalPages; i++) {
          const pageItem = document.createElement("li");
          pageItem.classList.add("page-item");
          if (i === currentPage) pageItem.classList.add("active");

          const pageLink = document.createElement("a");
          pageLink.classList.add("page-link");
          pageLink.href = "#";
          pageLink.innerText = i;
          pageLink.addEventListener("click", function (e) {
            e.preventDefault();
            currentPage = i;
            displayData();
            setupPagination(data);
          });

          pageItem.appendChild(pageLink);
          pagination.appendChild(pageItem);
        }

        // 다음페이지 버튼 넣기
        const next = document.createElement("li");
        next.classList.add("page-item");
        if (totalPages == currentPage) {
          next.classList.add("disabled");
        }
        const nextpageLink = document.createElement("a");
        nextpageLink.classList.add("page-link");
        nextpageLink.href = "#";
        nextpageLink.innerText = "Next";
        nextpageLink.addEventListener("click", function (e) {
          e.preventDefault();
          if (currentPage < totalPages) {
            currentPage++;
            displayData();
            setupPagination(data);
          }
        });
        next.appendChild(nextpageLink);
        pagination.appendChild(next);
      }

      // 데이터 표시 및 페이지네이션 설정
      displayData();
      setupPagination(data);

      previouspageLink.addEventListener("click", function (e) {
        e.preventDefault();
        if (currentPage > totalPages) {
          currentPage++;
          displayData();
          setupPagination(data);
        }
      });
      previous.appendChild(previouspageLink);
      pagination.appendChild(previous);
    </script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm"
      crossorigin="anonymous"
    ></script>
    <script
      type="module"
      src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"
    ></script>
    <script
      nomodule
      src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"
    ></script>
  </body>
</html>

<!-- <input class="form-check-input" type="checkbox" value="" id="flexCheckDefault"> -->
<!-- <li class="page-item disabled">
  <a class="page-link">Previous</a>
</li>
<li class="page-item"><a class="page-link" href="#">1</a></li>
<li class="page-item active" aria-current="page">
  <a class="page-link" href="#">2</a>
</li>
<li class="page-item"><a class="page-link" href="#">3</a></li>
<li class="page-item">
  <a class="page-link" href="#">Next</a>
</li> -->
